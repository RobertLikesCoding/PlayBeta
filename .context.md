# Project Context

## Project Overview

**What is this project?**

- Game submission platform for game developers. Game Developers can use this platform to upload there demos, and invite users for testing campaigns.

**Primary users & use cases:**

- Game developers submitting games
- Game developers creating and overseeing campaigns
- Game developers sending out invitations

## Architecture

### Tech Stack

**Backend:**

- Framework: Rails
- Language: Ruby
- Database: [PostgreSQL/SQLite]

**Frontend:**

- Framework: Nuxt 4
- Language: TypeScript
- UI Library: Nuxt UI
- Styling: TailwindCSS
- State management: no special state management for now

### Project Structure

- `backend/` / root: Rails API (RESTful endpoints)
- `frontend/`: Nuxt app
- Communication: [HTTP/JSON]

## Database & Models

**Key models:**

- `GameDeveloper` - User account for game creators
- `Submission` - Game submission with metadata about the game
- `EventLog` - Audit trail or activity logging

**Key relationships:**

- use schema.rb to infer relations

## API Conventions

**Base URL:** `http://localhost:3000` (dev)

**Authentication:** [JWT tokens]

- Header format: [e.g., `Authorization: Bearer <token>`]

**Response format:**

```json
{
  "data": {
    /* resource */
  },
  "status": "success|error",
  "message": "optional"
}
```

<!-- **Error handling:** [Error codes, formats] -->

## Development Practices

**Running the project:**

```bash
# Backend
rails server -p 3000

# Frontend
docker compose exec frontend npm run dev
# or locally: npm run dev
```

**Testing:**

- Backend: RSpec (in `spec/`)
- Run backend tests: `docker compose exec backend RAILS_ENV=test rspec`
- Frontend: Vitest (in `tests/`)
- Run frontend tests: `docker compose exec frontend npm test`

**Database:**

- Migrations: `rails db:migrate`
- Seeds: `rails db:seed`

**Development workflows:**

- The development environment is startet with `docker compose up` which starts the backend, frontend and postgres containers.

## Coding Standards

**Ruby:**

- Style guide: [`.rubocop.yml`]
- Naming: `snake_case` for variables/methods

**TypeScript/Vue:**

- Style: [Prettier, ESLint config]
- Naming: `camelCase` for variables, `PascalCase` for components
- File structure:
  - Components: `components/` with `ComponentName.vue`
  - Composables: `composables/useFeature.ts`
  - Pages: `pages/` (auto-routed by Nuxt)
  - Types: `types/` for shared interfaces

**Git workflow:**

- Branch naming: [e.g., `feature/description`, `bugfix/issue-123`]

## Environments

**Development:**

- Backend: `localhost:3000`
- Frontend: `localhost:3001` (Nuxt dev server)
- Database: Docker container

## Known Issues & Gotchas

- `.nuxt` directory can get corrupted by Docker; run `nuxt prepare` locally if TS errors occur
- After upgrading Gems to latest versions, I need to remove the playbeta-bundle volume and rebuild the backend container. That way the old Gemfiles will be removed and reinstalled with the latest versions.
  ```
  docker compose down
  docker volume rm playbeta-bundle
  docker compose build backend
  docker compose up -d
  ```

## Preferences for AI Assistance

**How should I work with you?**

- Ask before making major refactors
- Prefer detailed explanations for complex changes. I am a Junior Developer and have
  an interest in learning and understanding from this project.
- I want to learn best practices. Prefer best practices over hacky tricks and explain
  them to me

**Areas you want help with:**

- Architecture decisions
- Bug fixes
- Testing
- Performance optimization
